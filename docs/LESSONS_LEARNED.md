# π“ ν•™μµ λ‚΄μ© λ° λ μ¨λ° (Lessons Learned)

## π“‹ κ°μ”

μ΄ λ¬Έμ„λ” Milkyway μ•± κ°λ° κ³Όμ •μ—μ„ λ°°μ΄ κµν›κ³Ό μ‹¤μλ¥Ό κΈ°λ΅ν•μ—¬ ν–¥ν›„ μ μ‚¬ν• λ¬Έμ λ¥Ό λ°©μ§€ν•κ³ , λ” λ‚μ€ κ°λ°μ„ μ„ν• κ°€μ΄λ“λ΅ ν™μ©ν•©λ‹λ‹¤.

**μµμΆ… μ—…λ°μ΄νΈ:** 2025-11-19  
**μ‘μ„±μ:** AI Assistant  
**κ²€ν† μ:** κ°λ°ν€

---

## π― 2025-11-19: λ©”λ¨ ν”„λ΅ν•„ μ •λ³΄ λ™κΈ°ν™”

### λ¬Έμ  μƒν™©
λ©”λ¨μ— ν‘μ‹λλ” ν”„λ΅ν•„ μ΄λ―Έμ§€μ™€ λ‹‰λ„¤μ„μ΄ λ³€κ²½λ κ°’μΌλ΅ λ°μλμ§€ μ•μ•μµλ‹λ‹¤. ν”„λ΅ν•„μ„ μ—…λ°μ΄νΈν•΄λ„ λ©”λ¨ λ©λ΅μ—λ” μ΄μ „ μ •λ³΄κ°€ κ·Έλ€λ΅ ν‘μ‹λμ—μµλ‹λ‹¤.

### μ›μΈ λ¶„μ„
1. **Supabase μ΅°μΈ κ²°κ³Ό μ²λ¦¬ λ―Έν΅**: `Memo.fromJson`μ—μ„ `users` μ΅°μΈ κ²°κ³Όλ¥Ό κ°μ²΄λ΅λ§ κ°€μ •ν•μ—¬, λ°°μ—΄λ΅ λ°ν™λ  κ²½μ° μ²λ¦¬ν•μ§€ λ»ν•¨
2. **Provider λ¬΄ν¨ν™” λ„λ½**: ν”„λ΅ν•„ μ—…λ°μ΄νΈ μ‹ λ©”λ¨ κ΄€λ ¨ providerλ¥Ό λ¬΄ν¨ν™”ν•μ§€ μ•μ•„ μΊμ‹λ λ°μ΄ν„°κ°€ κ³„μ† ν‘μ‹λ¨

### ν•΄κ²° κ³Όμ •
1. **`Memo.fromJson` κ°μ„ **: Supabase μ΅°μΈ κ²°κ³Όκ°€ λ°°μ—΄ λλ” κ°μ²΄μΌ μ μμμ„ μΈμ§€ν•κ³ , λ‘ κ²½μ°λ¥Ό λ¨λ‘ μ²λ¦¬ν•λ„λ΅ μμ •
2. **Provider λ¬΄ν¨ν™” μ¶”κ°€**: `updateProfile` λ©”μ„λ“μ—μ„ λ©”λ¨ κ΄€λ ¨ providerλ“¤(`recentMemosProvider`, `homeRecentMemosProvider`, `allMemosProvider`, `paginatedMemosProvider`)μ„ λ¬΄ν¨ν™”ν•μ—¬ μµμ‹  ν”„λ΅ν•„ μ •λ³΄κ°€ λ°μλλ„λ΅ μμ •

### λ°°μ΄ μ 
- **Supabase μ΅°μΈ κ²°κ³Όλ” μμΈ΅ λ¶κ°€λ¥**: κ°™μ€ μΏΌλ¦¬λΌλ„ μƒν™©μ— λ”°λΌ λ°°μ—΄ λλ” κ°μ²΄λ΅ λ°ν™λ  μ μμΌλ―€λ΅, ν•­μƒ λ‘ κ²½μ°λ¥Ό λ¨λ‘ μ²λ¦¬ν•΄μ•Ό ν•¨
- **λ°μ΄ν„° λ³€κ²½ μ‹ κ΄€λ ¨ Provider λ¬΄ν¨ν™” ν•„μ**: ν• κ³³μ—μ„ λ°μ΄ν„°λ¥Ό λ³€κ²½ν•λ©΄, ν•΄λ‹Ή λ°μ΄ν„°λ¥Ό ν‘μ‹ν•λ” λ¨λ“  ν™”λ©΄μ providerλ¥Ό λ¬΄ν¨ν™”ν•΄μ•Ό μµμ‹  μ •λ³΄κ°€ λ°μλ¨
- **λ…μ‹μ  νλΌλ―Έν„° μ „λ‹¬**: null κ°’μ„ μ „λ‹¬ν•  λ•λ„ λ…μ‹μ μΌλ΅ μ „λ‹¬ν•μ—¬ μ½”λ“μ μλ„λ¥Ό λ…ν™•ν ν•λ” κ²ƒμ΄ μΆ‹μ

### μ‹¤μ
- μ²μμ—λ” `users` μ΅°μΈ κ²°κ³Όλ¥Ό κ°μ²΄λ΅λ§ κ°€μ •ν•μ—¬ νƒ€μ… μΊμ¤ν… μ—λ¬ λ°μƒ κ°€λ¥μ„± λ¬΄μ‹
- ν”„λ΅ν•„ μ—…λ°μ΄νΈ μ‹ λ©”λ¨ provider λ¬΄ν¨ν™”λ¥Ό κ³ λ ¤ν•μ§€ μ•μ

---

## π― 2025-11-19: My Memo ν™”λ©΄ λ°μ΄ν„° λ΅λ”©

### λ¬Έμ  μƒν™©
My Memo ν™”λ©΄μ—μ„ ν•„ν„°(λ¨λ“ /κ³µκ°/λΉ„κ³µκ°)λ¥Ό μ‚¬μ©ν–μ„ λ• μ•„λ¬΄κ²ƒλ„ ν‘μ‹λμ§€ μ•μ•μµλ‹λ‹¤.

### μ›μΈ λ¶„μ„
`memo_list_screen.dart`μ—μ„ `MemoList()`λ¥Ό νΈμ¶ν•  λ• `bookId`λ¥Ό λ…μ‹μ μΌλ΅ μ „λ‹¬ν•μ§€ μ•μ•„, κΈ°λ³Έκ°’(null)μ— μμ΅΄ν•κ³  μμ—μµλ‹λ‹¤. μ΄λ΅ μΈν•΄ `paginatedMemosProvider`κ°€ μ¬λ°”λ¥΄κ² μ΄κΈ°ν™”λμ§€ μ•μ•μ„ κ°€λ¥μ„±μ΄ μμ—μµλ‹λ‹¤.

### ν•΄κ²° κ³Όμ •
`MemoList(bookId: null)`μ„ λ…μ‹μ μΌλ΅ μ „λ‹¬ν•μ—¬ λ¨λ“  μ±…μ λ©”λ¨λ¥Ό λ¶λ¬μ¤λ„λ΅ μμ •ν–μµλ‹λ‹¤.

### λ°°μ΄ μ 
- **λ…μ‹μ  νλΌλ―Έν„° μ „λ‹¬μ μ¤‘μ”μ„±**: κΈ°λ³Έκ°’μ— μμ΅΄ν•κΈ°λ³΄λ‹¤λ” λ…μ‹μ μΌλ΅ νλΌλ―Έν„°λ¥Ό μ „λ‹¬ν•μ—¬ μ½”λ“μ μλ„λ¥Ό λ…ν™•ν ν•λ” κ²ƒμ΄ μΆ‹μ
- **null κ°’λ„ λ…μ‹μ μΌλ΅ μ „λ‹¬**: nullμ„ μ „λ‹¬ν•  λ•λ„ λ…μ‹μ μΌλ΅ μ „λ‹¬ν•λ©΄ μ½”λ“ κ°€λ…μ„±μ΄ ν–¥μƒλ¨

---

## π― 2025-11-19: ν™ ν™”λ©΄ λ‹¨μΌ μ±… ν™•λ€ ν¨κ³Ό

### λ¬Έμ  μƒν™©
ν™ ν™”λ©΄μ—μ„ μ±…μ΄ ν•λ‚λ§ μμ„ λ• "μ½κ³  μλ” μ±…" μ„Ήμ…μ μ±…μ΄ ν™•λ€λμ§€ μ•μ•μµλ‹λ‹¤. μ—¬λ¬ μ±…μ΄ μμ„ λ•λ” μ¤‘μ•™μ— μλ” μ±…μ΄ 1.3λ°° ν™•λ€λμ–΄ ν‘μ‹λμ—μ§€λ§, μ±…μ΄ ν•λ‚λ§ μμ„ λ•λ” ν™•λ€ ν¨κ³Όκ°€ μ—†μ—μµλ‹λ‹¤.

### μ›μΈ λ¶„μ„
`_SingleBookView`λ” μ±…μ΄ ν•λ‚μΌ λ• μ‚¬μ©λλ” μ„μ ―μΈλ°, `_AnimatedBookItem`κ³Ό λ‹¬λ¦¬ `Transform.scale`μ„ μ‚¬μ©ν•μ§€ μ•μ•„ ν™•λ€ ν¨κ³Όκ°€ μ—†μ—μµλ‹λ‹¤.

### ν•΄κ²° κ³Όμ •
`_SingleBookView`μ—λ„ `Transform.scale(scale: 1.3)`μ„ μ μ©ν•μ—¬ μ—¬λ¬ μ±…μΌ λ•μ™€ λ™μΌν• ν™•λ€ ν¨κ³Όλ¥Ό μ κ³µν•λ„λ΅ μμ •ν–μµλ‹λ‹¤.

### λ°°μ΄ μ 
- **μΌκ΄€λ UI/UX μ μ§€**: μ΅°κ±΄μ— λ”°λΌ λ‹¤λ¥Έ μ„μ ―μ„ μ‚¬μ©ν•λ”λΌλ„, μ‹κ°μ  ν¨κ³Όλ” μΌκ΄€λκ² μ μ§€ν•΄μ•Ό ν•¨
- **λ‹¨μΌ μΌ€μ΄μ¤λ„ κ³ λ ¤**: μ—¬λ¬ ν•­λ©κ³Ό λ‹¨μΌ ν•­λ© λ¨λ‘ λ™μΌν• μ‚¬μ©μ κ²½ν—μ„ μ κ³µν•΄μ•Ό ν•¨

---

## π“ μΌλ°μ μΈ λ μ¨λ°

### 1. Provider λ¬΄ν¨ν™” νƒ€μ΄λ°
- **λ°μ΄ν„° λ³€κ²½ μ‹ μ¦‰μ‹ λ¬΄ν¨ν™”**: λ°μ΄ν„°λ¥Ό λ³€κ²½ν•λ” μ‘μ—…(μƒμ„±, μμ •, μ‚­μ ) ν›„μ—λ” κ΄€λ ¨λ λ¨λ“  providerλ¥Ό μ¦‰μ‹ λ¬΄ν¨ν™”ν•΄μ•Ό ν•¨
- **κ΄€λ ¨ ν™”λ©΄ λ¨λ‘ κ³ λ ¤**: ν• κ³³μ—μ„ λ³€κ²½ν• λ°μ΄ν„°κ°€ ν‘μ‹λλ” λ¨λ“  ν™”λ©΄μ providerλ¥Ό λ¬΄ν¨ν™”ν•΄μ•Ό ν•¨

### 2. Supabase μ΅°μΈ κ²°κ³Ό μ²λ¦¬
- **λ°°μ—΄/κ°μ²΄ λ¨λ‘ μ²λ¦¬**: Supabaseμ μ΅°μΈ κ²°κ³Όλ” μƒν™©μ— λ”°λΌ λ°°μ—΄ λλ” κ°μ²΄λ΅ λ°ν™λ  μ μμΌλ―€λ΅, λ‘ κ²½μ°λ¥Ό λ¨λ‘ μ²λ¦¬ν•΄μ•Ό ν•¨
- **μ•μ „ν• νƒ€μ… μ²΄ν¬**: `is List`μ™€ `is Map`μ„ μ‚¬μ©ν•μ—¬ νƒ€μ…μ„ ν™•μΈν• ν›„ μ²λ¦¬

### 3. λ…μ‹μ  νλΌλ―Έν„° μ „λ‹¬
- **κΈ°λ³Έκ°’μ— μμ΅΄ μ§€μ–‘**: κΈ°λ³Έκ°’μ΄ μλ”λΌλ„ λ…μ‹μ μΌλ΅ νλΌλ―Έν„°λ¥Ό μ „λ‹¬ν•μ—¬ μ½”λ“μ μλ„λ¥Ό λ…ν™•ν ν•¨
- **null κ°’λ„ λ…μ‹**: nullμ„ μ „λ‹¬ν•  λ•λ„ λ…μ‹μ μΌλ΅ μ „λ‹¬ν•λ©΄ μ½”λ“ κ°€λ…μ„±μ΄ ν–¥μƒλ¨

### 4. UI μΌκ΄€μ„± μ μ§€
- **μ΅°κ±΄λ¶€ μ„μ ―λ„ μΌκ΄€λ ν¨κ³Ό**: μ΅°κ±΄μ— λ”°λΌ λ‹¤λ¥Έ μ„μ ―μ„ μ‚¬μ©ν•λ”λΌλ„, μ‹κ°μ  ν¨κ³Όλ” μΌκ΄€λκ² μ μ§€ν•΄μ•Ό ν•¨
- **λ‹¨μΌ μΌ€μ΄μ¤λ„ κ³ λ ¤**: μ—¬λ¬ ν•­λ©κ³Ό λ‹¨μΌ ν•­λ© λ¨λ‘ λ™μΌν• μ‚¬μ©μ κ²½ν—μ„ μ κ³µν•΄μ•Ό ν•¨

---

## π”„ κ°μ„  μ‚¬ν•­

### ν–¥ν›„ κ°μ„  κ³„ν
1. **Provider λ¬΄ν¨ν™” μλ™ν™”**: λ°μ΄ν„° λ³€κ²½ μ‹ κ΄€λ ¨ providerλ¥Ό μλ™μΌλ΅ λ¬΄ν¨ν™”ν•λ” μ ν‹Έλ¦¬ν‹° ν•¨μ κ³ λ ¤
2. **νƒ€μ… μ•μ „μ„± κ°•ν™”**: Supabase μ΅°μΈ κ²°κ³Όλ¥Ό μ²λ¦¬ν•λ” κ³µν†µ μ ν‹Έλ¦¬ν‹° ν•¨μ μƒμ„±
3. **ν…μ¤νΈ μ½”λ“ μ‘μ„±**: μ΄λ¬ν• μΌ€μ΄μ¤λ“¤μ„ ν…μ¤νΈλ΅ μ»¤λ²„ν•μ—¬ μ¬λ° λ°©μ§€

---

**λ¬Έμ„ μ‘μ„±μΌ:** 2025-11-19  
**μ‘μ„±μ:** AI Assistant  
**κ²€ν† μ:** κ°λ°ν€  
**λ‹¤μ κ²€ν†  μμ •μΌ:** 2025-12-19

